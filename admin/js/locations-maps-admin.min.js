(function(f){function g(){let lat=document.getElementById("_map_lat").value;let lng=document.getElementById("_map_lng").value}function d(){f("#get_geoloc").on("click",function(){let address=f("#_map_address").val()||"";let address2=f("#_map_address2").val()||"";let city=f("#_map_city").val()||"";let state=f("#_map_state").val()||"";let zip=f("#_map_zip").val()||"";let phone=f("#_map_phone").val()||"";let website=f("#_map_website").val()||"";let apiKey=f("#map_api_key").val()||"";if(apiKey===""){alert("You must enter in an API Key. Please head to the Settings page located under this post type! Stopping Function.");return false}let addressInput=address!==""?address.replace(/\s/g,"+")+",+":"";let cityInput=city!==""?city.replace(/\s/g,"+")+",+":"";let stateInput=state!==""?state+",+":"";let zipInput=zip!==""?zip+",+":"";let countryInput="";f("#map-loading").addClass("show");f(".map-row").addClass("loading");f(".map-field input, .map-field.disabled input").prop("readonly",true);f.ajax({url:"https://maps.googleapis.com/maps/api/geocode/json?address="+addressInput+cityInput+stateInput+zipInput+countryInput+"&key="+apiKey,method:"GET",dataType:"json",complete:function(){f("#map-loading").removeClass("show");f(".map-row").removeClass("loading");f(".map-field:not(.readonly) input").prop("readonly",false)},success:function(j){let lat=j.results[0].geometry.location.lat;let lng=j.results[0].geometry.location.lng;document.getElementById("lat_text").value=lat;document.getElementById("lng_text").value=lng;document.getElementById("_map_lat").value=lat;document.getElementById("_map_lng").value=lng;let returnData={_ajax_nonce:MAP_ADMIN.nonce,action:"geo_cb",address:address,address2:address2,city:city,state:state,zip:zip,lat:lat,lng:lng,phone:phone,website:website,id:f("#get_geoloc").data("postid")};f.post(MAP_ADMIN.adminURL,returnData,function(k){alert("Address and Place Saved! Please be sure to hit Update if you made any other content changes.")})},error:function(j){alert("You must enter in an API Key. Please head to the Settings page located under this post type! Stopping Function.")}})})}function b(){f("#save_address").on("click",function(){let address=document.getElementById("_map_address").value||"";let address2=document.getElementById("_map_address2").value||"";let city=document.getElementById("_map_city").value||"";let state=document.getElementById("_map_state").value||"";let zip=document.getElementById("_map_zip").value||"";let lat=document.getElementById("_map_lat").value||"";let lng=document.getElementById("_map_lng").value||"";let phone=document.getElementById("_map_phone").value||"";let email=document.getElementById("_map_email").value||"";let website=document.getElementById("_map_website").value||"";let returnData={_ajax_nonce:MAP_ADMIN.nonce,action:"geo_cb",address:address||"",address2:address2||"",city:city||"",state:state||"",zip:zip||"",lat:lat||"",lng:lng||"",email:email||"",phone:phone||"",website:website||"",id:f("#get_geoloc").data("postid")};f.post(MAP_ADMIN.adminURL,returnData,function(j){alert('Address saved. If you haven\'t already, click "Get Place" to get the Place Informtaion.')})})}function a(){f("#geo_reset").on("click",function(){let address=document.getElementById("_map_address").value||"";let address2=document.getElementById("_map_address2").value||"";let city=document.getElementById("_map_city").value||"";let state=document.getElementById("_map_state").value||"";let zip=document.getElementById("_map_zip").value||"";let phone=document.getElementById("_map_phone").value||"";let website=document.getElementById("_map_website").value||"";document.getElementById("lat_text").value="";document.getElementById("lng_text").value="";document.getElementById("_map_lat").value="";document.getElementById("_map_lng").value="";let returnData={_ajax_nonce:MAP_ADMIN.nonce,action:"geo_cb",address:address||"",address2:address2||"",city:city||"",state:state||"",zip:zip||"",lat:"",lng:"",phone:phone||"",website:website||"",id:f("#get_geoloc").data("postid")};f.post(MAP_ADMIN.adminURL,returnData,function(j){alert("Data Deleted!")})})}function c(j){for(let i=0;i<j.childNodes.length;i++){let e=j.childNodes[i];if(e.tagName){switch(e.tagName.toLowerCase()){case"input":switch(e.type){case"radio":case"checkbox":e.checked=false;break;case"button":case"submit":case"image":break;case"hidden":switch(e.id){case"map_api_key":break;default:e.value="";break}break;default:e.value="";break}break;case"select":e.selectedIndex=0;break;case"textarea":e.innerHTML="";break;default:c(e)}}}}function h(){f("#form-reset").on("click",function(){c(document.getElementById("map-elements"));let returnData={_ajax_nonce:MAP_ADMIN.nonce,action:"geo_cb",address:"",address2:"",city:"",state:"",zip:"",lat:"",lng:"",phone:"",website:"",id:f("#get_geoloc").data("postid")};f.post(MAP_ADMIN.adminURL,returnData,function(j){alert("Data Reset! Please make sure to save the post to update all the address fields..")})})}if(f("body").hasClass("post-type-locations")){d();b();a();h()}})(jQuery);