(function(b){var a;b('[data-name="hidden-media"]').each(function(){if(this.value){b(this).siblings(".no-value").addClass("hide");b(this).siblings(".has-value").removeClass("hide")}else{b(this).siblings(".no-value").removeClass("hide");b(this).siblings(".has-value").addClass("hide")}});b('.lm-media-container [data-name="add"], [data-name="edit"]').on("click",function(d){var c=b(this);d.preventDefault();if(a){a.open();return}if(c.parents(".lm-media-container").find(".image")!==0){a=wp.media.frames.file_frame=wp.media({title:"Choose Media",button:{text:"Choose Media"},multiple:false})}else{a=wp.media.frames.file_frame=wp.media({title:"Choose Media",button:{text:"Choose Media"},multiple:false})}a.on("select",function(){var h=a.state().get("selection").first().toJSON(),e=c.parents(".lm-media-container"),g=b(e).find('[data-name="media"]'),f=b(e).find('[data-name="hidden-media"]');f.attr("value",h.id);if(e.find(".image").length!==0){g.attr("src",h.sizes.thumbnail.url);g.attr("data-src",h.sizes.thumbnail.url)}if(e.find(".file-name").length!==0){g.find("span").text(h.title)}e.children(".no-value").addClass("hide");e.children(".has-value").removeClass("hide")});a.open()});b('[data-name="remove"]').on("click",function(f){var d=b(this),c=d.parents(".lm-media-container"),h=b(c).find('[data-name="media"]'),g=b(c).find('[data-name="hidden-media"]');f.preventDefault();if(c.find(".image").length!==0){h.attr("src","");h.attr("data-src","")}if(c.find(".file-name").length!==0){h.find("span").text("")}g.val("");c.children(".no-value").removeClass("hide");c.children(".has-value").addClass("hide")})})(jQuery);