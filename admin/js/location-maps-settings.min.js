(function(a){let mediaUploader;a('[data-name="hidden-media"]').each(function(){if(this.value){a(this).siblings(".no-value").addClass("hide");a(this).siblings(".has-value").removeClass("hide");a(this).siblings(".locations-map-hover").removeClass("hide")}else{a(this).siblings(".no-value").removeClass("hide");a(this).siblings(".has-value").addClass("hide");a(this).siblings(".locations-map-hover").addClass("hide")}});a('.lm-media-container [data-name="add"], [data-name="edit"]').on("click",function(b){let $this=a(this);b.preventDefault();if(mediaUploader){mediaUploader.open();return}if($this.parents(".lm-media-container").find(".image")!==0){mediaUploader=wp.media.frames.file_frame=wp.media({title:"Choose Media",button:{text:"Choose Media"},multiple:false})}else{mediaUploader=wp.media.frames.file_frame=wp.media({title:"Choose Media",button:{text:"Choose Media"},multiple:false})}mediaUploader.on("select",function(){let attachment=mediaUploader.state().get("selection").first().toJSON(),thisContainer=$this.parents(".lm-media-container"),dataMedia=a(thisContainer).find('[data-name="media"]'),dataHidden=a(thisContainer).find('[data-name="hidden-media"]');dataHidden.attr("value",attachment.id);if(thisContainer.find(".image").length!==0){dataMedia.attr("src",attachment.sizes.thumbnail.url);dataMedia.attr("data-src",attachment.sizes.thumbnail.url)}if(thisContainer.find(".file-name").length!==0){dataMedia.find("span").text(attachment.title)}thisContainer.children(".no-value").addClass("hide");thisContainer.children(".has-value").removeClass("hide");thisContainer.children(".locations-map-hover").removeClass("hide")});mediaUploader.open()});a('[data-name="remove"]').on("click",function(b){let $this=a(this),thisContainer=$this.parents(".lm-media-container"),dataMedia=a(thisContainer).find('[data-name="media"]'),dataHidden=a(thisContainer).find('[data-name="hidden-media"]');b.preventDefault();if(thisContainer.find(".image").length!==0){dataMedia.attr("src","");dataMedia.attr("data-src","")}if(thisContainer.find(".file-name").length!==0){dataMedia.find("span").text("")}dataHidden.val("");thisContainer.children(".no-value").removeClass("hide");thisContainer.children(".has-value").addClass("hide");thisContainer.children(".locations-map-hover").addClass("hide")})})(jQuery);